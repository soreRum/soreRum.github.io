<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sleeper Draft Sync + Custom Rankings</title>
<style>
  body { font-family: Arial, sans-serif; background-color: #fff; color: #000; transition: all 0.3s; }
  body.dark { background-color: #1e1e1e; color: #ddd; }
  table { border-collapse: collapse; width: 100%; margin-top: 20px; }
  th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
  th { background-color: #f4f4f4; }
  body.dark th { background-color: #333; }
  input { margin-top: 10px; }
  #toggleMode { margin-bottom: 10px; }
</style>
</head>
<body>
<h1>Best Available Players</h1>
<button id="toggleMode">Toggle Dark/Light Mode</button>
<br>
<input type="file" id="csvFile" accept=".csv">
<table id="bestAvailableTable">
  <thead>
    <tr>
      <th>Player</th>
      <th>POS</th>
      <th>ADP</th>
      <th>Team Offense Grade</th>
      <th>O-Line Grade</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>

<script>
// Toggle dark/light mode
document.getElementById('toggleMode').addEventListener('click', () => {
  document.body.classList.toggle('dark');
});

// Parse CSV and populate table
document.getElementById('csvFile').addEventListener('change', (event) => {
  const file = event.target.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = (e) => {
    const text = e.target.result;
    const rows = text.trim().split('\n').map(r => r.split(','));

    // Extract headers
    const headers = rows.shift().map(h => h.trim());

    // Identify column indices
    const playerIdx = headers.indexOf('Player');
    const posIdx = headers.indexOf('POS');
    const adpIdx = headers.indexOf('ADP');
    const teamOffIdx = headers.indexOf('Team Offense Grade');
    const oLineIdx = headers.indexOf('O-Line Grade');

    const tbody = document.querySelector('#bestAvailableTable tbody');
    tbody.innerHTML = ''; // clear previous rows

    rows.forEach(row => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${row[playerIdx] || ''}</td>
        <td>${row[posIdx] || ''}</td>
        <td>${row[adpIdx] || ''}</td>
        <td>${row[teamOffIdx] || ''}</td>
        <td>${row[oLineIdx] || ''}</td>
      `;
      tbody.appendChild(tr);
    });
  };
  reader.readAsText(file);
});
</script>
</body>
</html>


